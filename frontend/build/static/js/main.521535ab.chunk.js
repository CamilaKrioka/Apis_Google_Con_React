(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(19),i=n.n(r),c=(n(73),n(15)),l=n(16),s=n(18),u=n(17),m=(n(74),n(132)),p=n(133),h=n(28),b=n(41),d=n.n(b);d.a.initializeApp({apiKey:"AIzaSyDDRJrShC7uH4IdgjNJXNTSVdz0y3s8Xe8",authDomain:"portfolio-ed9c4.firebaseapp.com",databaseURL:"https://portfolio-ed9c4.firebaseio.com",projectId:"portfolio-ed9c4",storageBucket:"portfolio-ed9c4.appspot.com",messagingSenderId:"243402962460",appId:"1:243402962460:web:fda8d5e98dd8ff93d211d9",measurementId:"G-N3DZ4K4LEY"});var f=d.a,v=n(20),g=n(140),E=n(139),y=n(131),O=n(130),A=n(56),k=n.n(A),j=Object(E.a)({container:{display:"flex",flexDirection:"row"}})((function(e){return o.a.createElement("div",{className:e.classes.container},e.user?[o.a.createElement(g.a,{key:"auth-album-element",src:e.user.providerData[0].photoURL}),o.a.createElement(O.a,{key:"auth-sign-out-button",color:"inherit",onClick:e.logout},o.a.createElement(k.a,null))]:o.a.createElement(y.a,{variant:"contained",onClick:e.login},"inciar sesion"))})),S=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).login=a.login.bind(Object(h.a)(a)),a.logout=a.logout.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props.token)}},{key:"login",value:function(){var e=this,t=new f.auth.GoogleAuthProvider;t.addScope("https://www.googleapis.com/auth/photoslibrary.readonly"),f.auth().signInWithPopup(t).then((function(t){var n=t.credential.accessToken;e.props.saveToken(n)})).catch((function(e){console.log(e)}))}},{key:"logout",value:function(){var e=this;f.auth().signOut().then((function(){e.props.clearToken()}))}},{key:"render",value:function(){return o.a.createElement(j,{login:this.login,logout:this.logout,token:this.props.token,user:this.props.user})}}]),n}(a.Component),T={saveToken:function(e){return{type:"SET_TOKEN",token:e}},clearToken:function(){return{type:"CLEAR_TOKEN"}}},w=Object(v.b)((function(e){return{token:e.token,user:e.user}}),T)(S),C=n(134),L=n(6),N=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(m.a,{position:"static"},o.a.createElement(p.a,{className:this.props.classes.nav},o.a.createElement(C.a,{variant:"h6",component:"h1",className:this.props.classes.grow},"Mi portfolio"),o.a.createElement(w,null))))}}]),n}(a.Component),_=Object(L.a)({grow:{flexGrow:1},nav:{color:"white",textAlign:"left"}})(N),P=n(37),I=n.n(P),x=n(138),U=n(135),B=n(137),R=n(136);var D=Object(L.a)({item:{minWidth:"350px",margin:"1em",boxSizing:"border-box",cursor:"pointer"},media:{minHeight:"200px"}})((function(e){return o.a.createElement(U.a,{className:e.classes.item,onClick:function(){return e.setAlbum(e.album)}},o.a.createElement(R.a,{className:e.classes.media,image:e.album.coverPhotoBaseUrl}),o.a.createElement(B.a,null,o.a.createElement(C.a,{variant:"h5",component:"h2",glutterbottom:"true"},e.album.title),o.a.createElement(C.a,{component:"p"},e.album.mediaItemsCount," foto(s)")))})),M=n(24),G=M.b.div({enter:{opacity:1,height:"auto",delay:function(e){return 50*(e.position+3)}},exit:{opacity:0,height:0}});var z=Object(L.a)({})((function(e){return o.a.createElement(x.a,{container:!0,spacing:10,justify:"center"},o.a.createElement(M.a,null,e.albums.map((function(t,n){return o.a.createElement(G,{key:n,position:n,pose:e.mainAlbum?"exit":"enter"},o.a.createElement(D,{setAlbum:e.setAlbum,album:t}))}))))})),H=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadPhotos()}},{key:"loadPhotos",value:function(){var e=this;I()({url:"https://photoslibrary.googleapis.com/v1/albums",method:"GET",headers:{Authorization:"Bearer ".concat(this.props.token," ")}}).then((function(t){e.props.setAlbums(t.data.albums)})).catch(console.log)}},{key:"render",value:function(){return o.a.createElement(z,{mainAlbum:this.props.mainAlbum,setAlbum:this.props.setAlbum,albums:this.props.albums})}}]),n}(a.Component),K={setAlbums:function(e){return{type:"SET_ALBUMS",albums:e}},clearAlbums:function(){return{type:"CLEAR_ALBUMS"}},setAlbum:function(e){return{type:"SET_ALBUM",album:e}}},W=Object(v.b)((function(e){return{albums:e.albums,token:e.token,mainAlbum:e.mainAlbum}}),K)(H);var J=Object(L.a)({container:{display:"flex",flexDirection:"row",justifyContent:"center",padding:"1em 0"},img:{maxWidth:"100%",height:"auto"},card:{minWidth:"300px",marginRight:"1em"}})((function(e){return o.a.createElement("div",{className:e.classes.container},o.a.createElement(M.a,null,e.photos.map((function(t,n){return o.a.createElement(G,{key:t.id,position:n,className:e.classes.card},o.a.createElement(U.a,null,o.a.createElement("img",{src:t.baseUrl,className:e.classes.img,alt:"imagen"}),o.a.createElement(B.a,null,o.a.createElement(C.a,{variant:"caption",component:"p"},t.filename))))}))))}));var F=Object(L.a)({topSpace:{marginTop:"2em"}})((function(e){return o.a.createElement("div",{className:e.classes.topSpace},e.album&&[o.a.createElement(C.a,{key:"album-tittle",variant:"h4",component:"h2"},e.album?e.album.title:""),o.a.createElement(y.a,{key:"back-button",onClick:function(){e.clearAlbum(),e.clearPhotos()}},"Regresar Atras"),o.a.createElement(C.a,{key:"album-subtittle",variant:"subtitle2",component:"h3"},"Fotos del album"),o.a.createElement(C.a,{key:"album-caption",variant:"caption",component:"p"}," ",e.photos.length," Foto(s) en este album")],o.a.createElement(J,{photos:e.photos}))})),X=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.mainAlbum&&this.props.mainAlbum!==e.mainAlbum&&this.loadPhotos()}},{key:"loadPhotos",value:function(){var e=this;I()({method:"POST",url:"https://photoslibrary.googleapis.com/v1/mediaItems:search",headers:{Authorization:"Bearer ".concat(this.props.token," ")},data:{albumId:this.props.mainAlbum.id}}).then((function(t){console.log(t),e.props.setPhotos(t.data.mediaItems)}))}},{key:"render",value:function(){return o.a.createElement(F,{clearAlbum:this.props.clearAlbum,clearPhotos:this.props.clearPhotos,album:this.props.mainAlbum,photos:this.props.photos})}}]),n}(a.Component),V={setPhotos:function(e){return{type:"SET_PHOTOS",photos:e}},clearAlbum:function(){return{type:"CLEAR_ALBUM"}},clearPhotos:function(){return{type:"CLEAR_PHOTOS"}}},Y=Object(v.b)((function(e){return{mainAlbum:e.mainAlbum,token:e.token,photos:e.photos}}),V)(X),Z=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(_,null),o.a.createElement(Y,null),o.a.createElement(W,null))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=n(26),q=n(57),Q=n.n(q);var ee=Object($.b)({token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return t.token;case"CLEAR_TOKEN":return"";default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN":return t.user;case"SIGN_OUT":return null;default:return e}},albums:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALBUMS":return t.albums;case"CLEAR_ALBUMS":return[];default:return e}},mainAlbum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALBUM":return t.album;case"CLEAR_ALBUM":return null;default:return e}},photos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PHOTOS":return t.photos;case"CLEAR_PHOTOS":return[];default:return e}}}),te=Object($.c)(Q()("token")),ne=Object($.d)(ee,{},te);f.auth().onAuthStateChanged((function(e){e?ne.dispatch(function(e){return{type:"LOGGED_IN",user:e}}(e)):ne.dispatch({type:"SIGN_OUT"})})),i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v.a,{store:ne},o.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},68:function(e,t,n){e.exports=n(111)},73:function(e,t,n){},74:function(e,t,n){}},[[68,1,2]]]);
//# sourceMappingURL=main.521535ab.chunk.js.map